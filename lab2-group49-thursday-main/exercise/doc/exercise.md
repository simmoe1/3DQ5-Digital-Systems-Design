### Exercise

In the reference design from **experiment 5**, only the lower memory half (i.e., address range 000h-0FFh) is used for storing the LCD codes of lower-case characters. First, extend the “MIF” file with the LCD codes such that the upper memory half (i.e., address range 100h-1FFh) stores the LCD codes for upper-case characters. Using a single-bit flag (stored in a 1-bit register) you can keep track the mode, i.e., lower-case or upper-case: the left-shift key on the PS/2 keyboard sets the mode to upper-case and the right-shift key resets it to lower-case. For the sake of simplicity, it is assumed that the mode affects only the letter keys, i.e., ‘a’ to ‘z’; digit keys ('0' to '9') and the space key are not affected by this mode. Note, when the left-shift key or the right-shift key are pressed, __nothing__ should be displayed on the character LCD (i.e., they are used only for setting the upper/lower-case modes). If the left-shift and right-shift keys are pressed more than once in between typing two keys whose characters are displayed, then only the effect of the last shift key that was typed is considered. It is fair to assume that no other keys than the types specified above (i.e., 'a' to 'z', '0' to '9', space, left-shift and right-shift) will be typed.
 
As for the in-lab experiment, an entire line is displayed at once after the last (sixteenth) character to be displayed on a line has been typed. The first eight characters and the last eight characters from the top line are compared and, if the message is the same, then all the _red_ LEDs should be turned on until a new key has been typed. Note, if a character appears as lower-case in the message from the first eight characters and as upper-case in the message from the last 8 characters (or the other way around) then the two messages are still considered to be the same. In other words, the lower-case or upper-case modes matter __only__ when displaying a character, however they do not matter when the comparison is done. For example, messages “FaLl2021” and “fALl2021” are the same. Following the same line of reasoning, if the messages defined by the first eight characters and the last eight characters from the bottom line are the same then all the *green* LEDs should be turned on until a new key has been typed. You should also note that while a full line of 16 characters gets sent to the LCD controller, it will take just below 15 microseconds (us) in simulation. Hence, make sure the next key press in `board_events.txt` will be done after these 15 us have elapsed.

Submit your sources and in your report write approx half-a-page (but not more than a full-page) that describes your reasoning. Your sources should follow the directory structure from the in-lab experiments (already set-up for you in the `exercise` folder); note, your report (in `.pdf`, `.txt` or `.md` format) should be included in the `exercise/doc` sub-folder. Note also, your design must pass compilation in Quartus before you simulate it and you write the report.

Your submission is due 14 hours before your next lab session. Late submissions will be penalized.

